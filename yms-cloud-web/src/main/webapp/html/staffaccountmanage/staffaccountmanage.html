<link href="css/staff.css" rel="stylesheet">
<link href="css/jquery.fileupload.css" rel="stylesheet">
<div class="row m-am" id="staffAccount_manage">
    <div class="col-xs-12  col-xs-12 main">
        <input type="hidden" id="selectStaffId" value=""/>
        <div id="m-am-div" class="m-am-t">
            <div  id="search_staff_account_div" class="search_staff_account_div">
                <div style="" id="div_search_staff_account" class="search-box">
                    <input class="form-control" id="search_staff_account" maxlength="60" title="{[staffaccountmanage.html.search]}"  placeholder="{[staffaccountmanage.html.search]}"
                           type="text">
                    <span class="searchbox-icon" id="search_box" onclick="staffaccountmanage.searchByKeyFromBox(this)"><i class="glyphicon glyphicon-search"></i></span>
                </div>
                <div class="select_content" id="result_div">
                    <ul id="result_ul">
                    </ul>
                </div>
            </div>

            <div class="pull-right">
                <button class="btn btn-yealink btn-height34" onclick="staffaccountmanage.openAddPage()">
                    <img src="img/operation/add-white.png"><span>{[staffaccountmanage.html.addcount]}</span>
                </button>
                <button class="btn btn-yealink btn-height34" onclick="staffaccountmanage.openImportPage()">
                    <img src="img/operation/addmany-white.png"><span>{[staffaccountmanage.html.Batchcreation]}</span>
                </button>
            </div>
        </div>

        <div class="panel panel-body">
            <div class="m-magin-bottom10">

                <a class="no-underline" id="batchMailStaff"
                   href="javascript:void(0);" title="{[staffaccountmanage.html.Batchsendingaccount]}" onclick="staffaccountmanage.mailBatch()">
                    <img src="img/button/mail.png" class="m-img-position"><span>{[staffaccountmanage.html.Batchsendingaccount]}</span>
                </a>


                <a class="no-underline" href="javascript:void(0);"
                   style="padding-left: 21px;width: 100px;"
                   id="batchDeleteStaff" title="{[staffaccountmanage.html.batchdeletion]}" onclick="staffaccountmanage.deleteBatch()">
                    <img src="img/button/sgdel.png" class="m-img-position"><span>{[staffaccountmanage.html.batchdeletion]}</span>
                </a>

            </div>

            <div id="m-am-table"></div>
        </div>
    </div>
</div>
<div style="display: none">
    <ul id="staff_account_for_search">

    </ul>
</div>

<div class="modal fade" id="progressBarModal" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true"  data-backdrop="static">
    <div class="modal-dialog" style="width: 713px;">
        <div class="modal-content" id="progressBarContent" style="height: 152px;width: 713px;">
            <div class="modal-body" style="padding-top: 45px;padding-left: 46px;">
                <span id="progressBarFooter" style="display: block;width: 100%;text-align: center;font-size: 22px;color: #454444;margin-bottom: 26px;height: 22px;">{[staffaccountmanage.html.building]}</span>
                <div class="progress" style="height: 12px;width: 575px;background-color: #d4d4d4;">
                    <div class="progress-bar" role="progressbar"  aria-valuenow="60"
                         aria-valuemin="0" aria-valuemax="100" style="width: 20%;background-color: #0cc295">
                    </div>
                </div>
                <span id="progressValueshow" style="position: relative;top: -38px;left: 587px; font-size: 16px;color: #444444"></span>

            </div>
        </div>
    </div>
</div>

<div class="row m-am" id="staffAccount_create_prev" hidden="true">
    <div class="col-xs-12  col-xs-12 main">
        <div class="m-am-title-block" onclick="staffaccountmanage.returnMain()">
            <span class="m-title m-title-margin">{[staffaccountmanage.html.addcount]}</span>
            <div class="pull-right g-back m-title-margin">
                <img src="/img/button/back.png">
                <div class="g-back-msg">{[system.html.go.back]}</div>
            </div>
        </div>
        <div class="panel panel-body m-df-panel">
            <div class="y-process y-process-2">
                <span class="y-unit y-current">
                    <div class="img i1-a"></div><span class="wi-wizard-tab-font-a">1. {[staffaccountmanage.html.fillinfo]}</span>
                </span>
                <span class="y-arrow y-current-unit" id="arrowSpanId1">
                    <span class="y-next"></span>
                    <span class="y-prev"></span>
                </span>
                <span class="y-arrow">
                    <span class="y-prev"></span>
                </span>
                <span class="y-unit" id="smtpsettingSpanID">
                    <div class="img i5"></div><span class="wi-wizard-tab-font">2. {[staffaccountmanage.html.addsucess]}</span>
                </span>
            </div>

            <form class="form-horizontal" role="form" id="m-sam-add">
                <div class="form-group">
                    <div class="col-xs-2 input-span"><span class="pull-left"> {[staffaccountmanage.html.name]}</span><span style="color: red">*</span></div>
                    <div class="col-xs-10">
                        <label class="control-label m-error-message"></label>
                        <input class="form-control" id="name_create" name="name" maxlength="64"/>
                    </div>
                </div>
                <div class="form-group" id="usernameDiv">
                    <div class="col-xs-2 input-span"><span class="pull-left"> {[staffaccountmanage.html.count]}</span><span style="color: red">*</span></div>
                    <div class="col-xs-10">
                        <label class="control-label m-error-message" id="userNameError"></label>
                        <input class="form-control" id="username_create" name="username" maxlength="4" placeholder="{[staffaccountmanage.html.input4]}"
                               onkeyup="value=value.replace(/[^\d]|_/ig,'')" style="ime-mode:disabled"
                        />
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-xs-2 input-span"><span class="pull-left"> {[staffaccountmanage.html.email]}</span></div>
                    <div class="col-xs-10">
                        <label class="control-label m-error-message"></label>
                        <input class="form-control" id="email_create" name="email" maxlength="128" placeholder="{[staffaccountmanage.html.remakesafe]}"/>
                    </div>
                </div>
            </form>
            <div class="row" style="margin-top: 38px">
                <div class="col-xs-3">
                </div>
                <div class="col-xs-2 m-am-btn-pos">
                    <button type="button" class="btn btn-yealink btn-default-size"  onclick="staffaccountmanage.save('m-sam-add')">
                        {[staffaccountmanage.html.sure]}
                    </button>
                </div>
                <div class="col-xs-2 m-am-btn-pos">
                    <button type="button" class="btn btn-yealink-cancel btn-default-size" onclick="staffaccountmanage.returnMain()">
                        {[staffaccountmanage.html.cancle]}
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="row m-am" id="staffAccount_create_next" hidden="true">
    <div class="col-xs-12  col-xs-12 main">
        <span class="m-title m-title-margin">{[staffaccountmanage.html.addaccount]}</span>
        <div class="panel panel-body m-df-panel">

            <div class="y-process y-process-2">
                <span class="y-unit ">
                    <span class="wi-wizard-tab-font-a">1. {[staffaccountmanage.html.fillinfo]}</span>
                </span>
                <span class="y-arrow">
                    <span class="y-prev"></span>
                </span>
                <span class="y-arrow y-complete-current-mcu">
                    <span class="y-next"></span>
                    <span class="y-prev"></span>
                </span>
                <span class="y-unit y-current">
                    <span class="wi-wizard-tab-font">2. {[staffaccountmanage.html.newcount]}</span>
                </span>
            </div>

            <div id="staff_account_success_div">
            </div>
        </div>
    </div>
</div>

<div class="row m-am" id="staffAccount_import" hidden="true">
    <div class="col-xs-12  col-xs-12 main">
        <!--<h1 class="sub-header">{[]}</h1>-->
        <div class="m-am-title-block" onclick="staffaccountmanage.returnMain()">
            <span class="m-title m-title-margin">{[staffaccountmanage.html.Batchcreateaccount]}</span>
            <div class="pull-right g-back m-title-margin">
                <img src="/img/button/back.png">
                <div class="g-back-msg">{[system.html.go.back]}</div>
            </div>
        </div>
        <div class="panel panel-body m-df-panel">
            <div class="row">
                <form class="form-horizontal" role="form">
                    <div class="form-group">
                        <div class="col-xs-4"><span class="pull-left">{[staffaccountmanage.html.pleacefollow]}</span></div>
                    </div>
                    <div class="form-group">
                        <div class="col-xs-6">
                            <a href="javascript:void(0);" onclick="staffaccountmanage.downloadTemplate()" class="btn btn-default">
                                <span class="hidden-xs">{[staffaccountmanage.html.modeldown]}</span>
                            </a>
                        </div>
                    </div>
                </form>
            </div>
            <div class="row" style="height: 70px">
                <form class="form-horizontal" role="form">
                    <div class="form-group">
                        <div class="col-xs-2" style="width:258px">
                            <span class="pull-left">{[staffaccountmanage.html.Excel]}</span>
                        </div>
                        <div class="col-xs-8" style="font-size: smaller;margin-top: 1px;color:#B1A9A9">
                            {[staffaccountmanage.html.attention]}
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-xs-10">
                            <div class="form-control">
                                <div tabindex="500" class=" btn-file"><i class="glyphicon glyphicon-folder-open"></i>&nbsp;
                                    <span class="hidden-xs" id="importFileName">{[staffaccountmanage.html.choosefile]}</span>
                                    <input id="importFile" type="file" name="importStaffFile" multiple="multiple" accept="application/vnd.ms-excel">
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-1">
                            <button tabindex="500" type="button" id="browseBtn" class="btn btn btn-yealink">
                                <span class="hidden-xs"> {[staffaccountmanage.html.Browse]}</span></button>
                        </div>
                    </div>
                </form>
            </div>

            <div class="row" >
                <div id="importError" style="color:red;">

                </div>

                <!-- The global progress bar -->
                <div id="importProgress" class="progress" style="background-color: #ffffff;-webkit-box-shadow: inset 0 0px 0px rgba(0,0,0,.1);width: 83%;">
                    <div class="progress-bar progress-bar-success"></div>
                </div>
                <!-- The container for the uploaded files -->
                <div id="files" class="files"></div>

                <div id="importResultModalContent"></div>
            </div>
            <div class="row" style="margin-left: 85px">
                <div class="col-xs-10">
                    <div class="row" style="margin-left: -5%">
                        <div class="col-xs-3" style="width: auto">
                            <button type="button" class="btn btn-yealink btn-default-size" id="importStaffAndEmailSaveBtn">
                                {[staffaccountmanage.html.SandS]}
                            </button>
                        </div>
                        <div class="col-xs-3" style="width: auto">
                            <button type="button" class="btn btn-yealink btn-default-size" id="importStaffSaveBtn">
                                {[staffaccountmanage.html.save]}
                            </button>
                        </div>
                        <div class="col-xs-3" style="width: auto">
                            <button type="button" class="btn btn-yealink-cancel btn-default-size" id="importStaffCancelBtn" onclick="staffaccountmanage.returnMain()">
                                {[staffaccountmanage.html.cancel]}
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="row m-am" id="staffAccount_edit" hidden="true">
</div>
<input type="hidden" id="isBatchSendEmail" value="false"/>
<script id="staffAccountListTemp" type="text/html">
    <input type="hidden" id="orderbyType" value="1"/>
    <input type="hidden" id="orderbyField" value="">
    <div class="div-scroll-table-body">
        <table class="table table-content" align="center">
            <thead>
            <tr class="table-tr-head">
                <th width="3%" class="th-color">
                    <input type="checkbox" onclick="staffaccountmanage.checkAll(this)" id="checkAllStaff" name="checkAllStaff">
                </th>
                <th width="7%" class="th-color"></th>
                <th width="20%" class="white-color
            {{if orderByField == 'namePinyin'}}
                {{if orderByType ===1}}
                    row-up
                {{else}}
                    row-down
                {{/if}}
            {{else}}
                row-up-down
            {{/if}}"
                onclick="staffaccountmanage.showListOrderBy({{pageModel.pageSize}},'namePinyin',{{orderByType}},'{{searchKey}}');"
                style="cursor:pointer">{[staffaccountmanage.html.name]}
            </th>
            <th width="20%" class="white-color
            {{if orderByField == 'username'}}
                {{if orderByType ===1}}
                    row-up
                {{else}}
                    row-down
                {{/if}}
            {{else}}
                row-up-down
            {{/if}}"
                onclick="staffaccountmanage.showListOrderBy({{pageModel.pageSize}},'username',{{orderByType}},'{{searchKey}}');"
                style="cursor:pointer">{[staffaccountmanage.html.count]}</th>

            <th width="20%" class="white-color">{[staffaccountmanage.html.email]}</th>
            <th width="20%" class="white-color
            {{if orderByField == 'creationDate'}}
                {{if orderByType ===1}}
                    row-up
                {{else}}
                    row-down
                {{/if}}
            {{else}}
                row-up-down
            {{/if}}"
                    onclick="staffaccountmanage.showListOrderBy({{pageModel.pageSize}},'creationDate',{{orderByType}},'{{searchKey}}');"
                    style="cursor:pointer">{[staffaccountmanage.html.DateCreated]}</th>
                <th width="10%" class="white-color">{[staffaccountmanage.html.op]}</th>
            </tr>
            </thead>
            <tbody>
            {{if pageModel.total >0}}
            {{each pageModel.records as prop index}}
            <tr class=" {{if index % 2 ===0}}
                                table-striped-tr-even
                            {{else}}
                                table-striped-tr-odd
                            {{/if}}">
                <td width="3%" class="text-align-center" style="line-height: 22px">
                    <label style="float:left">
                        <input type="checkbox" name="staffCheck_{{ prop.staff._id }}" id="staffCheck_{{ prop.staff._id }}" >
                    </label>
                </td>
                <td width="7%" class="text-align-center" title="{{((pageModel.pageNo-1)*pageModel.pageSize)+index+1}}">{{((pageModel.pageNo-1)*pageModel.pageSize)+index+1}}</td>

                <td width="20%" title="{{ prop.staff.name}}">
                    {{ prop.staff.name}}
                </td>
                <td width="18%">
                    {{ prop.sipAccount.username}}
                </td>
                <td width="20%">
                    {{ prop.staff.email}}
                </td>
                <td width="20%">
                    {{ prop.staff.creationDate}}
                </td>
                <td width="10%">
                    <div class="td-div-operation">
                        <button class="m-tau-table-edit m-btn-edit"
                                onclick="staffaccountmanage.openEditPage('{{ prop.staff._id }}')"
                                title="{[staffaccountmanage.html.editw]}" ></button>
                        <button {{if prop.staff.email===''|| prop.staff.email===null}} class="m-tau-table-edit m-btn-unclick-mail margin-left15" title="{[staffaccountmanage.html.Emptymailboxnotsent]}"
                                disabled="disabled"{{else}} class="m-tau-table-edit m-btn-mail margin-left15" onclick="staffaccountmanage.mail('{{ prop.staff._id }}')"
                                title="{[staffaccountmanage.html.Mailaccountinformation]}" {{/if}}></button>
                        <button class="m-tau-table-del m-btn-sgdel margin-left15"
                                onclick="staffaccountmanage.deleteStaff('{{ prop.staff._id }}')"
                                title="{[staffaccountmanage.html.del]}" ></button>
                    </div>
                </td>
            </tr>
            {{/each}}
            {{/if}}
            </tbody>
        </table>

        {{if pageModel.total <=0}}
            <div class="text-center">
                {[staffaccountmanage.html.nodata]}
            </div>
        {{/if}}
    </div>

    {{if pageModel.total >0}}
    <div class="fixed-table-pagination">
        <input type="hidden" id="currentPageNo" value="{{ pageModel.pageNo }}">
        <input type="hidden" id="currentPageSize" value="{{ pageModel.pageSize }}">
        <input type="hidden" id="totalPage" value="{{ pageModel.totalPages }}">
        <div class="pull-right pagination">
            <ul class="pagination">
                {{if pageModel.totalPages === 1}}
                    <li class="page-pre"><a href="javascript:void(0)" class="page-pre"></a></li>
                    <li class="page-next"><a href="javascript:void(0)" class="page-next"></a></li>
                {{else}}
                    {{if pageModel.pageNo === 1}}
                    <li class="page-pre"><a href="javascript:void(0)" class="page-pre"></a></li>
                    <li class="page-next"><a href="javascript:void(0)"
                                             onclick="staffaccountmanage.showStaffAccountList({{pageModel.pageNo + 1}},{{pageModel.pageSize}},'{{orderByField}}', {{orderByType}},null,'{{searchKey}}','{{onlineStatus}}');"
                                             class="page-next"></a></li>
                    {{else if pageModel.pageNo === pageModel.totalPages}}
                    <li class="page-pre"><a href="javascript:void(0)"
                                            onclick="staffaccountmanage.showStaffAccountList({{pageModel.pageNo - 1}},{{pageModel.pageSize}},'{{orderByField}}', {{orderByType}},null,'{{searchKey}}','{{onlineStatus}}');"
                                            class="page-pre"></a></li>
                    <li class="page-next"><a href="javascript:void(0)"
                                             class="page-next"></a></li>
                    {{else}}
                    <li class="page-pre"><a href="javascript:void(0)"
                                            onclick="staffaccountmanage.showStaffAccountList({{pageModel.pageNo - 1}},{{pageModel.pageSize}},'{{orderByField}}', {{orderByType}},null,'{{searchKey}}','{{onlineStatus}}');"
                                            class="page-pre"></a></li>
                    <li class="page-next"><a href="javascript:void(0)"
                                             onclick="staffaccountmanage.showStaffAccountList({{pageModel.pageNo + 1}},{{pageModel.pageSize}},'{{orderByField}}', {{orderByType}},null,'{{searchKey}}','{{onlineStatus}}');"
                                             class="page-next"></a></li>
                    {{/if}}
                {{/if}}
            </ul>
        </div>
        <div class="pull-right pagination-detail">
            <span class="pagination-info">{[staffaccountmanage.html.tol]}{{pageModel.total}}{[staffaccountmanage.html.list2]},</span>
                <span class="page-list">{[staffaccountmanage.html.eachpage]}
                    <span class="btn-group dropdown">
                        <button style="padding: 0px 12px;position:relative;top: -2px;" type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                            <span class="page-size">{{pageModel.pageSize}}</span> <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu" role="menu">
                            <li class="active">
                                <a href="javascript:void(0)"
                                   onclick="staffaccountmanage.changeSelectPageSize({{pageModel.pageNo}},10,'{{orderByField}}', {{orderByType}},'{{searchKey}}','{{onlineStatus}}')"
                                   >10</a>
                            </li>
                            <li>
                                <a href="javascript:void(0)"
                                   onclick="staffaccountmanage.changeSelectPageSize({{pageModel.pageNo}},20,'{{orderByField}}', {{orderByType}},'{{searchKey}}','{{onlineStatus}}')"
                                   >20</a>
                            </li>
                            <li>
                                <a href="javascript:void(0)"
                                   onclick="staffaccountmanage.changeSelectPageSize({{pageModel.pageNo}},50,'{{orderByField}}', {{orderByType}},'{{searchKey}}','{{onlineStatus}}')"
                                   >50</a>
                            </li>
                            <li><a href="javascript:void(0)"
                                   onclick="staffaccountmanage.changeSelectPageSize({{pageModel.pageNo}},100,'{{orderByField}}', {{orderByType}},'{{searchKey}}','{{onlineStatus}}')"
                                   >100</a>
                            </li>
                        </ul>
                    </span>{[staffaccountmanage.html.list]}
                </span>
                <span class="page-select" style="margin-left: 15px;">
                        {[staffaccountmanage.html.the]}<span class="btn-group dropdown">
                        <button style="padding: 0px 12px;position:relative;top: -2px;" type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                            <span class="page-size">{{pageModel.pageNo}}</span> <span class="caret"></span></button>
                        <ul class="dropdown-menu" role="menu" style="max-height: 200px;overflow-y: auto">
                            {{each pageArray as page index}}
                                <li {{if pageModel.pageNo ===page}}class="active" {{/if}}>
                                <a href="javascript:void(0)"
                                   onclick="staffaccountmanage.changeSelectPageNo({{page}},{{pageModel.pageSize}},'{{orderByField}}', {{orderByType}},'{{searchKey}}','{{onlineStatus}}')">{{page}}</a>
                                </li>
                            {{/each}}
                        </ul>
                </span>{[staffaccountmanage.html.page]}
            </span>
        </div>
    </div>
    {{/if}}
</script>

<script id="staffAccountImportResultTemp" type="text/html">
    <div class="row" style="margin-left:7px">
        <form class="form-horizontal" role="form">
            <div class="form-group">
                <div class="col-sm-10">
                    <div class="row">
                        <div class="modal-header custom-modal-header">
                            <h4 class="modal-title">
                                {{message}}
                            </h4>
                        </div>
                    </div>
                    <div class="row">
                        <table class="table table-head" align="center">
                            <thead>
                            <tr class="table-tr-head">
                                <th width="10%" class="white-color">{[staffaccountmanage.html.Linenumber]}</th>
                                <th width="15%" class="white-color">{[staffaccountmanage.html.xname]}</th>
                                <th width="15%" class="white-color">{[staffaccountmanage.html.count]}</th>
                                <th width="25%" class="white-color">{[staffaccountmanage.html.email]}</th>
                                <th width="35%" class="white-color">{[staffaccountmanage.html.wrongdetail]}</th>
                            </tr>
                            </thead>
                        </table>
                        <div class="div-scroll-table-body">
                            <table class="table table-content" align="center">
                                <tbody>
                                {{each errorImportStaffList as errorStaff index}}
                                <tr class="{{if index % 2 ===0}}
                                                    table-striped-tr-even
                                                {{else}}
                                                    table-striped-tr-odd
                                                {{/if}}">
                                    <td width="10%" title="{{errorStaff.rowNum}}"> {{errorStaff.rowNum}}</td>
                                    <td width="15%" title="{{errorStaff.name}}">
                                        {{errorStaff.name}}
                                    </td>
                                    <td width="15%" title="{{errorStaff.username}}">
                                        {{errorStaff.username}}
                                    </td>
                                    <td width="25%" title="{{errorStaff.email}}">
                                        {{errorStaff.email}}
                                    </td>
                                    <td width="35%" title="{{errorStaff.errorMessage}}">
                                        {{errorStaff.errorMessage}}
                                    </td>
                                </tr>
                                {{/each}}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</script>
<script id="staffAccountMailResultTemp" type="text/html">
    <div>
        <div class="modal-header custom-modal-header">
            <h4 class="modal-title custom-modal-title " id="confirmModalTitle">{[staffaccountmanage.html.hint]}</h4>
        </div>
        <div id="modelBody" class="modal-body">
            <div class="fade in active">
                <div>
                    <div class="col-sm-12">
                        <div class="row">
                            <div class="col-sm-12 col-sm-offset-2" style="margin-bottom: 10px;font-size: 15px;margin-top: 10px;">
                                {[staffaccountmanage.html.emptynotsend]}
                            </div>
                        </div>
                        <div class="row">
                            <table class="table table-head">
                                <thead>
                                <tr class="table-tr-head">
                                    <th width="50%" class="white-color">{[staffaccountmanage.html.xname]}</th>
                                    <th width="50%" class="white-color">{[staffaccountmanage.html.accountname]}</th>
                                </tr>
                                </thead>
                            </table>
                            <div class="div-scroll-table-body" style="max-height: 246px;">
                                <table class="table table-content">
                                    <tbody>
                                    {{each rows as errorStaff index}}
                                    <tr class="{{if index % 2 ===0}}
                                                        table-striped-tr-even
                                                    {{else}}
                                                        table-striped-tr-odd
                                                    {{/if}}">
                                        <td width="50%">
                                            <label title="{{errorStaff.staff.name}}">
                                                {{errorStaff.staff.name}}
                                            </label>
                                        </td>
                                        <td width="50%">
                                            <label title="{{errorStaff.sipAccount.username}}">
                                                {{errorStaff.sipAccount.username}}
                                            </label>
                                        </td>
                                    </tr>
                                    {{/each}}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal-footer custom-modal-footer">
            <div class="col-sm-6 col-sm-offset-3">
                <button type="button" class="btn btn-default btn-yealink-cancel btn-default-size btn-sm" data-dismiss="modal">
                    {[staffaccountmanage.html.iknow]}
                </button>
            </div>
        </div>
    </div>
</script>
<script id="staffAccountEditTemp" type="text/html">
    <div class="col-xs-12  col-xs-12 main">
        <div class="m-am-title-block" onclick="staffaccountmanage.returnMain()">
            <span class="m-title m-title-margin">{[staffaccountmanage.html.edaccount]}</span>
            <div class="pull-right g-back m-title-margin">
                <img src="/img/button/back.png">
                <div class="g-back-msg">{[system.html.go.back]}</div>
            </div>
        </div>
        <div class="panel panel-body m-df-panel" style="padding-top: 22px">
                <form class="form-horizontal" role="form" id='m-sam-edit'>
                    <div class="form-group">
                        <div class="col-xs-2 input-span"><span class="pull-left"> {[staffaccountmanage.html.name]}</span><span style="color: red">*</span></div>
                        <div class="col-xs-10">
                            <label class="control-label m-error-message"></label>
                            <input class="form-control" id="name_edit" maxlength="64" name="name" value="{{rows.staff.name}}"/>
                        </div>
                    </div>
                    <div class="form-group" style="height: 54px">
                        <div class="col-xs-2 input-span"><span class="pull-left"> {[staffaccountmanage.html.count]}</span><span style="color: red">*</span></div>
                        <div class="col-xs-10">
                            <label class="control-label m-error-message"></label>
                            <input class="form-control" id="username_edit" name="username" maxlength="4"
                                   placeholder="{[staffaccountmanage.html.in4]}" value="{{rows.sipAccount.username}}" readonly/>

                        </div>
                        <label id="errorUsername_edit" class="control-label"></label>
                    </div>
                    <div class="form-group">
                        <div class="col-xs-2 input-span"><span class="pull-left">{[staffaccountmanage.html.pwd]}</span><span style="color: red">*</span></div>
                        <div class="col-xs-8">
                            <label class="control-label m-error-message"></label>
                            <input class="form-control" id="password_edit" value="******" maxlength="32" readonly>
                            <input class="form-control" id="password_edit_hidden" type="hidden" value="{{rows.sipAccount.password}}" readonly>
                        </div>
                        <div class="col-xs-2" style="padding-top: 19px;">
                            <button type="button" onclick="staffaccountmanage.resetpwd()" class="btn dropdown-toggle btn-yealink" style="width: 100%">
                                {[staffaccountmanage.html.reset]}
                            </button>
                        </div>
                    </div>
                    <div class="form-group" style="margin-bottom: 38px">
                        <div class="col-xs-2 input-span"><span class="pull-left"> {[staffaccountmanage.html.email]}</span></div>
                        <div class="col-xs-10">
                            <label class="control-label m-error-message"></label>
                            <input class="form-control" id="email_edit" name="email" maxlength="128" placeholder="{[staffaccountmanage.html.remakesafe]}" value="{{rows.staff.email}}"/>
                        </div>
                    </div>
                </form>
                <div class="row">
                    <div class="col-xs-2">
                    </div>
                    <div class="col-xs-2 m-am-btn-pos">
                        <button type="button" class="btn btn-yealink btn-default-size"  onclick="staffaccountmanage.edit('m-sam-edit','{{rows.staff._id}}',true)">
                            {[staffaccountmanage.html.SandS]}
                        </button>
                    </div>
                    <div class="col-xs-2 m-am-btn-pos">
                    </div>
                    <div class="col-xs-2 m-am-btn-pos">
                        <button type="button" class="btn btn-yealink-cancel btn-default-size" id="cancelBtn" onclick="staffaccountmanage.returnMain()">
                            {[staffaccountmanage.html.cancel]}
                        </button>
                    </div>
                </div>
        </div>
    </div>
</script>

<script id="staffAccountCreateSuccessTemp" type="text/html">

    <div class="panel panel-body" style="margin-bottom: 38px">
        <form class="form-horizontal" role="form" id="form1" novalidate="novalidate">
            <div class="form-group">
                <div class="col-xs-12 input-span"><span style="text-align: center;display: block;"> {[staffaccountmanage.html.newsuccess]}</span></div>
            </div>

            <div class="form-group">
                <div class="col-xs-12 input-span"><span style="text-align: center;display: block;">{[staffaccountmanage.html.count]}: {{rows.sipAccount.username}}</span></div>
            </div>
            <div class="form-group">
                <div class="col-xs-12 input-span"><span style="text-align: center;display: block;max-width: 450px;overflow: hidden;white-space: nowrap;text-overflow: ellipsis;margin: 0 auto" title="{{rows.staff.name}}">{[staffaccountmanage.html.name]}: {{rows.staff.name}}</span></div>
            </div>
            <div class="form-group">
                <div class="col-xs-12 input-span"><span style="text-align: center;display: block;">{[staffaccountmanage.html.pwd]}: {{rows.sipAccount.password}}</span></div>
            </div>
            <div class="form-group">
                <div class="col-xs-12 input-span"><span style="text-align: center;display: block;">{[staffaccountmanage.html.email]}: {{if rows.staff.email===null||rows.staff.email===""}}({[staffaccountmanage.html.no.filled]}){{/if}}  {{rows.staff.email}}</span></div>
            </div>
            <div class="form-group">
                <div class="col-xs-12 input-span"><span style="text-align: center;display: block;">{[staffaccountmanage.html.seraddress]}: {{rows.enterprise.realm}}</span></div>
            </div>
        </form>
    </div>

    <div class="row">
        <div class="col-xs-3 m-am-btn-pos" style="margin-left: 25%">
            <button type="button" class="btn btn-yealink btn-default-size" id="mail" onclick="staffaccountmanage.mail('{{ rows.staff._id }}')">
                {[staffaccountmanage.html.sendmail]}
            </button>
        </div>
        <div class="col-xs-3 m-am-btn-pos">
            <button type="button" class="btn btn-yealink-cancel btn-default-size" id="return" onclick="staffaccountmanage.returnLastPage()">
                {[staffaccountmanage.html.done]}
            </button>
        </div>
    </div>
</script>
